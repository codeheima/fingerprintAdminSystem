<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	
	<title>测试01</title>
		
	<script src="../build/ctj-all-0.1.js"></script>
	
	
</head>

<body id="body">

	<h1>body</h1>
	<div id="div1" view="test">1333 </div>
	
	
	<table id="t1">
		<tbody id="tbodyxxx">
			<tr>
				<td>title</td>
			</tr>
		</tbody>
	</table>
</body>
<script language="javaScript">
	console.log($CTJ);
	console.log($CTJ.isChrome);
	
	function px(o){
		document.write(o +'<br>');  
	}
	//date
	px('------------date--------------');
	var dt = new Date();
	px(dt );  
	px(dt.format('Y-m-d h:i:s'));                           // 2017-01-11 08:23:15
	px(dt.format('F j, Y, g:i a'));                   // January 11, 2017, 8:23 pm
	px(dt.format('l, \\t\\he jS \\of F Y h:i:s A'));  // Wednesday, the 11th of January 2017 08:23:15 PM
		
		
// 日期加减...
	px('日期加减');
/*	MILLI : "ms",
    SECOND : "s",
    MINUTE : "mi",
    HOUR : "h",
    DAY : "d",
    MONTH : "mo",
    YEAR : "y",
*/	
	var newdt = dt.add(Date.HOUR,-3);  
	px('减3小时=' + newdt.format('Y-m-d h:i:s'));       
	px('加20天=' +dt.add(Date.DAY,20).format('Y-m-d h:i:s'));

	dt = Date.parseDate("2016-11-15 03:20:01", "Y-m-d h:i:s");
	console.log(dt.format('Y-m-d h:i:s'));   

	
	
	//format 
	
	
	
	//json	
	px('------------json--------------');
	var jsonStr = $CTJ.JSON.encode({a:1,b:'b1',c:{c1:2,c2:3}});
	console.log(jsonStr);
	px('encode=' +jsonStr);
	var obj = $CTJ.JSON.decode(jsonStr);
	console.log(obj);
	px('decode=' +obj );


	var tpl = new $CTJ.Template(
		'<div class="abcd" itemClick="name" >{type}:{name}</div>'
		+''
	);
	tpl.compile();
	var data = [{"type":"视频","name":"test","hot":"adfdafaf"},{"type":"2","name":"hello world","hot":"100"}]
	var divMain = document.getElementById('div1');
	for(var i =0;i < data.length; i++){
		tpl.append(divMain,data[i]);
	}
	
	var t2 = new $CTJ.Template(
		'<div class="abcd" itemClick="name" >{type:parseType}:{name}</div>'
		+'<div>arrs:{arr:this.parseArr("arg1Val","arg2Val")}</div>'
		+'<div> end = {name}</div>'
	);
	
	console.log($CTJ.util.Format);
	//公共
	$CTJ.util.Format.parseType  = function(type,arg1,arg2){
		console.log(arg1  + "=" + arg2);
		
		if(type == 1){
			return '中国';
			
		}else if(type == 2){
			return '美国';
		}else{
			return type;
		}
	}
	
	//私有
	t2.parseArr = function(arr,values){
		console.log(values);
		return arr[0] + ','+ arr[1] + '<span style="font-size:15px;">&nbsp;addSpan</span>';
	}
	t2.compile();
	
	var ds = [{type:1,name:'a1',arr:[1,2,3]},{type:2,name:'a2',arr:[4,5,6]}];
	
	console.log(ds);
	
	for(var i =0;i < ds.length; i++){
		t2.append(divMain,ds[i]);
	}
	
	
	var leftRowTemplate = new $CTJ.Template(
		'<tr class="left-data-btn">' +
			'<td >{tableName}</td>' +
			'<td >{tableName}</td>' +
			'<td >{ccc}</td>' +
		'</tr>'
	);
	leftRowTemplate.compile(); 
	
//	var parent = $('#t1').find('tbody')[0];
	var parent = document.getElementById('tbodyxxx');
	console.log(document.getElementById('tbodyxxx'));
	var tempDiv = leftRowTemplate.append(parent,{tableName:'t1t2'});
	
	tempDiv.onclick = function(){
		console.log(123);
	}
	tempDiv = leftRowTemplate.append(parent,{tableName:'4333'});
	
	
	tempDiv.onclick = function(){
		console.log(456);
	}
	
	leftRowTemplate.append(parent,{tableName:'555',ccc:'ccc'});
	
	
</script>

</html>